<mat-toolbar>
  <button mat-icon-button [routerLink]="['/organigram']" *ngIf="params.length != 0">
    <mat-icon>location_on</mat-icon>
  </button>
  <button mat-button [routerLink]="['/organigram']" *ngIf="params.length === 0">
    <mat-icon>location_on</mat-icon>
    <span
      i18n="OrganigramComponent|Root of the Organigram Tree@@OrganigramComponentRootNavigationTitle"
      >Overview</span
    >
  </button>
  <button mat-button *ngFor="let node of params; let i = index" (click)="navigateToNodePath(node)">
    <mat-icon>chevron_right</mat-icon>
    {{ node }}
  </button>
  <a *ngIf="currentUser != null" mat-button class="btn-whereAmI" [routerLink]="this.whereAmI">
    <mat-icon>business</mat-icon>
    <span
      i18n="OrganigramComponent|Button for going to user's organigram@@OrganigramComponentWhereAmI"
    >
      Where am I?
    </span>
  </a>
</mat-toolbar>
<mat-drawer-container hasBackdrop="false" class="pb-flex-1">
  <mat-drawer #drawer mode="side" class="tree-drawer" [opened]="drawerOpenByDefault">
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="location-tree"
      ><mat-tree-node *matTreeNodeDef="let node"
        ><li
          class="mat-tree-node"
          matRipple
          tabindex="0"
          (click)="navigateToNodePath(node)"
          (keyup.enter)="navigateToNodePath(node)"
          ><button mat-icon-button disabled matTreeNodeToggle><mat-icon>business</mat-icon></button
          ><div>{{ node.id + ': ' + node.name }}</div></li
        ></mat-tree-node
      ><mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
        <li>
          <div class="mat-tree-node" matRipple (click)="navigateToNodePath(node)"
            ><button
              mat-icon-button
              matTreeNodeToggle
              [attr.aria-label]="'toggle ' + node.name"
              (click)="navigateToNodePath(node)"
              ><mat-icon>
                {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}</mat-icon
              ></button
            ><div> {{ node.name }}</div></div
          ><ul *ngIf="treeControl.isExpanded(node)"
            ><ng-container matTreeNodeOutlet></ng-container
          ></ul>
        </li> </mat-nested-tree-node></mat-tree
  ></mat-drawer>
  <mat-drawer-content>
    <div class="toggle-drawer">
      <button
        mat-icon-button
        (click)="drawer.toggle()"
        i18n-matTooltip="
          OrganigramComponent|Tooltip for expanding the tree
          view@@OrganigramComponentButtonExpandTooltip"
        i18n-aria-label="
          OrganigramComponent|Aria Label for expanding the tree
          view@@OrganigramComponentButtonExpandAriaLabel"
        aria-label="Button expanding or collapsing the tree view on the left."
        matTooltip="Expand or Collapse the tree view."
      >
        <mat-icon>{{ drawer.opened ? 'chevron_left' : 'chevron_right' }} </mat-icon>
      </button>
    </div>
    <div class="pb-expand pb-overflow-auto">
      <router-outlet></router-outlet>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
