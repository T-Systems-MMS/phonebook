<!--<div id="pb-organigram">
  <ng-container *ngFor="let node of nodes">
    <app-organigram-node [node]="node" class="node"> </app-organigram-node>
  </ng-container>
</div>-->

<mat-toolbar>
  <button mat-icon-button [routerLink]="['/organigram']" *ngIf="params.length != 0">
    <mat-icon>location_on</mat-icon>
  </button>
  <button mat-button [routerLink]="['/organigram']" *ngIf="params.length === 0">
    <mat-icon>location_on</mat-icon>
    <span
      i18n="Room-treeComponent|Root of the Navigation Tree@@RoomTreeComponentRootNavigationTitle"
      >Overview</span
    >
  </button>
  <button
    mat-button
    *ngFor="let param of params; let i = index"
    (click)="navigateToNodePath(params.slice(0, i + 1))"
  >
    <mat-icon>chevron_right</mat-icon>
    {{ param }}
  </button>
  <a
    mat-button
    *ngIf="myOrganigramUrl"
    class="btn-whereAmI"
    target="_blank"
    rel="noopener"
    [href]="myOrganigramUrl"
  >
    <mat-icon>people</mat-icon>
    <span
      i18n="
        RoomTreeComponent|Button for changing to the booking
        tool@@RoomTreeComponentButtonBookingTool"
    >
      Where am I?
    </span>
  </a>
</mat-toolbar>
<mat-drawer-container hasBackdrop="false" class="pb-flex-1">
  <mat-drawer #drawer mode="side" class="tree-drawer" [opened]="drawerOpenByDefault">
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="location-tree"
      ><mat-tree-node *matTreeNodeDef="let node"
        ><li
          class="mat-tree-node"
          matRipple
          tabindex="0"
          (click)="navigateToNodePath(node)"
          (keyup.enter)="navigateToNodePath(node)"
          ><button mat-icon-button disabled matTreeNodeToggle
            ><mat-icon>desktop_mac</mat-icon></button
          ><div>{{ node.id + ': ' + node.name }}</div></li
        ></mat-tree-node
      ><mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
        <li>
          <div class="mat-tree-node" matRipple (click)="navigateToNodePath(node)"
            ><button
              mat-icon-button
              matTreeNodeToggle
              [attr.aria-label]="'toggle ' + node.name"
              (click)="navigateToNodePath(node)"
              ><mat-icon>
                {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}</mat-icon
              ></button
            ><div> {{ node.name }}</div></div
          ><ul *ngIf="treeControl.isExpanded(node)"
            ><ng-container matTreeNodeOutlet></ng-container
          ></ul>
        </li> </mat-nested-tree-node></mat-tree
  ></mat-drawer>
  <mat-drawer-content>
    <div class="toggle-drawer">
      <button
        mat-icon-button
        (click)="drawer.toggle()"
        i18n-matTooltip="
          RoomTreeComponent|Tooltip for expanding the tree
          view@@RoomTreeComponentButtonExpandTooltip"
        i18n-aria-label="
          RoomTreeComponent|Aria Label for expanding the tree
          view@@RoomTreeComponentButtonExpandAriaLabel"
        aria-label="Button expanding or collapsing the tree view on the left."
        matTooltip="Expand or Collapse the tree view."
      >
        <mat-icon>{{ drawer.opened ? 'chevron_left' : 'chevron_right' }} </mat-icon>
      </button>
    </div>
    <div class="pb-expand pb-overflow-auto router-outlet">
      <router-outlet></router-outlet>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
